/**
 * Fake-chat.js 2.0.0
 * Fake-chat.js is a handy chat emulator.
 * GitHub: https://github.com/rah-emil/fake-chat.js
 *
 * Copyright 2020 Rah Emil
 *
 * Released under the MIT License
 *
 * Released: August 10, 2020
 * Latest updates: August 11, 2020
 */

class FakeChat{constructor(t,e){this.$chat=document.querySelector(t),this.options=e,this._init()}_init(){const{messages:t,visible:e,adding:s,theme:i}=this.options;if(e){let t=!0;window.addEventListener("scroll",()=>{let e=window.pageYOffset+this.$chat.getBoundingClientRect().top,s=window.pageYOffset+this.$chat.getBoundingClientRect().bottom,i=window.pageYOffset,o=window.pageYOffset+document.documentElement.clientHeight;s>i&&e<o&&(t?(t=!1,this.outputMessages()):window.removeEventListener("scroll",this.scroll))})}else this.outputMessages()}outputMessages(){try{this.options.messages.forEach((t,e)=>{setTimeout(()=>{this.$chat.insertAdjacentHTML(this.options.adding??"beforeEnd",`<div class="fakechat fakechat_${this.options.theme?this.options.theme.theme??"default":"default"} fakechat_${this.options.theme?this.options.theme.angle??"rounded":"rounded"} ${this.options.animation?this.options.animation.class??"":""} ${this.options.animation?this.options.animation.function??"":""}"><span>${t.text}</span></div>`)},1e3+t.timer)})}catch(t){console.warn(t)}}}